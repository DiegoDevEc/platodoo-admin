<div class="dashboard-container">
  <div *ngIf="loading" class="loading-spinner">
    Cargando...
  </div>

  <div *ngIf="error" class="error-message">
    {{ error }}
    <button (click)="loadDashboardData()" class="retry-button">Reintentar</button>
  </div>

  <div *ngIf="!loading && !error" class="dashboard-content">
    <div class="dashboard-header">
      <h1>Dashboard Administrativo</h1>
      <p>Bienvenido al panel de administración de PlayToDoo</p>
    </div>

    <div class="stats-container">
      <div class="stat-card">
        <h3>Usuarios</h3>
        <div class="stat-value">{{ dashboardData.totalUsers }}</div>
        <div class="stat-subtitle">Activos: {{ dashboardData.activeUsers }}</div>
      </div>

      <div class="stat-card">
        <h3>Complejos Deportivos</h3>
        <div class="stat-value">{{ dashboardData.totalSportComplexes }}</div>
      </div>

      <div class="stat-card">
        <h3>Reservaciones</h3>
        <div class="stat-value">{{ dashboardData.totalReservations }}</div>
        <div class="stat-subtitle">Pendientes: {{ dashboardData.pendingReservations }}</div>
      </div>
    </div>

    <div class="charts-container">
      <div class="chart-card">
        <h3>Estadísticas de Uso</h3>
        <!-- Aquí puedes agregar un componente de gráfico -->
        <div class="simple-chart">
          <div *ngFor="let sport of getUsageStatsKeys()" class="chart-bar">
            <div class="bar-label">{{ sport }}</div>
            <div class="bar" [style.width.%]="getPercentage(dashboardData.usageStats[sport], getMaxUsage())">
              {{ dashboardData.usageStats[sport] }}
            </div>
          </div>
        </div>
      </div>

      <div class="chart-card">
        <h3>Ingresos Mensuales</h3>
        <!-- Aquí puedes agregar un componente de gráfico -->
        <div class="simple-chart">
          <div *ngFor="let month of getRevenueKeys()" class="chart-bar">
            <div class="bar-label">{{ month }}</div>
            <div class="bar" [style.width.%]="getPercentage(dashboardData.monthlyRevenue[month], getMaxRevenue())">
              {{ dashboardData.monthlyRevenue[month] | currency }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
